const midiLabels = {
    36: 'C2',
    38: 'D2',
    40: 'E2',
    41: 'F2',
    43: 'G2',
    45: 'A2',
    47: 'B2',
    48: 'C3',
    50: 'D3',
    52: 'E3',
    53: 'F3',
    55: 'G3',
    57: 'A3',
    58: 'Bb3',
    59: 'B3',
    60: 'C4',
    62: 'D4',
    64: 'E4',
    65: 'F4',
    66: 'F#4',
    67: 'G4',
    69: 'A4',
    71: 'B4',
    72: 'C5',
    74: 'D5',
    76: 'E5',
    77: 'F5',
    79: 'G5',
    81: 'A5',
    83: 'B5',
    84: 'C6'
};

function createStep(...notes) {
    return {
        notes,
        label: notes.map(note => midiLabels[note] ?? `MIDI ${note}`).join('-')
    };
}

export const exerciseGroups = [
    {
        id: 'warmup',
        title: 'Разогрев пальцев',
        exercises: [
            {
                id: 'warmup-middle-c',
                title: 'Middle C Focus',
                description: 'Повторяй ноту C4 и соседние белые клавиши для разогрева.',
                displayWindow: 14,
                steps: [
                    createStep(60),
                    createStep(62),
                    createStep(60),
                    createStep(64),
                    createStep(60),
                    createStep(65),
                    createStep(60),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(62),
                    createStep(65),
                    createStep(62),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(64),
                    createStep(62),
                    createStep(60)
                ],
                loop: true
            },
            {
                id: 'warmup-steps-up',
                title: 'Step Up',
                description: 'Пройди по белым клавишам от C4 до верхних нот.',
                displayWindow: 14,
                steps: [
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(69),
                    createStep(71),
                    createStep(72),
                    createStep(74),
                    createStep(76),
                    createStep(77),
                    createStep(76),
                    createStep(74),
                    createStep(72),
                    createStep(71),
                    createStep(69),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(69),
                    createStep(71),
                    createStep(72),
                    createStep(69),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(69),
                    createStep(71)
                ],
                loop: true
            },
            {
                id: 'warmup-steps-down',
                title: 'Step Down',
                description: 'Спустись от F4 к нижним нотам и вернись вверх.',
                displayWindow: 14,
                steps: [
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(57),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(57),
                    createStep(55),
                    createStep(57),
                    createStep(60),
                    createStep(62),
                    createStep(60),
                    createStep(59),
                    createStep(57),
                    createStep(55),
                    createStep(57),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(60)
                ],
                loop: true
            },
            {
                id: 'warmup-skip',
                title: 'Skip Practice',
                description: 'Чередуй секунды и терции вокруг C4.',
                displayWindow: 14,
                steps: [
                    createStep(60),
                    createStep(64),
                    createStep(62),
                    createStep(65),
                    createStep(60),
                    createStep(67),
                    createStep(62),
                    createStep(69),
                    createStep(64),
                    createStep(67),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(71),
                    createStep(64),
                    createStep(67),
                    createStep(62),
                    createStep(65),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(60),
                    createStep(65),
                    createStep(69),
                    createStep(62),
                    createStep(66),
                    createStep(69),
                    createStep(62),
                    createStep(65),
                    createStep(69),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(72)
                ],
                loop: true
            }
        ]
    },
    {
        id: 'intervals',
        title: 'Простые интервалы',
        exercises: [
            {
                id: 'intervals-thirds-c',
                title: 'Thirds in C',
                description: 'Проигрывай терции вокруг середины клавиатуры.',
                displayWindow: 14,
                steps: [
                    createStep(60, 64),
                    createStep(62, 65),
                    createStep(64, 67),
                    createStep(65, 69),
                    createStep(64, 67),
                    createStep(62, 65),
                    createStep(60, 64),
                    createStep(59, 62),
                    createStep(60, 64),
                    createStep(62, 65),
                    createStep(64, 67),
                    createStep(62, 65),
                    createStep(60, 64),
                    createStep(62, 65),
                    createStep(64, 67),
                    createStep(65, 69),
                    createStep(67, 71),
                    createStep(65, 69),
                    createStep(64, 67),
                    createStep(62, 65),
                    createStep(60, 64),
                    createStep(59, 62),
                    createStep(57, 60),
                    createStep(59, 62),
                    createStep(60, 64),
                    createStep(62, 65),
                    createStep(64, 67),
                    createStep(65, 69),
                    createStep(64, 67),
                    createStep(62, 65),
                    createStep(60, 64),
                    createStep(60, 67)
                ],
                loop: true
            },
            {
                id: 'intervals-fifths',
                title: 'Simple Fifths',
                description: 'Строй устойчивые квинты на белых клавишах.',
                displayWindow: 3,
                steps: [
                    createStep(60, 67),
                    createStep(62, 69),
                    createStep(64, 71),
                    createStep(65, 72),
                    createStep(64, 71),
                    createStep(62, 69),
                    createStep(60, 67),
                    createStep(55, 62),
                    createStep(57, 64),
                    createStep(60, 67),
                    createStep(62, 69),
                    createStep(64, 71),
                    createStep(67, 74),
                    createStep(69, 76),
                    createStep(67, 74),
                    createStep(64, 71),
                    createStep(62, 69),
                    createStep(60, 67),
                    createStep(57, 64),
                    createStep(55, 62),
                    createStep(57, 64),
                    createStep(60, 67),
                    createStep(62, 69),
                    createStep(64, 71),
                    createStep(65, 72),
                    createStep(67, 74),
                    createStep(69, 76),
                    createStep(67, 74),
                    createStep(65, 72),
                    createStep(62, 69),
                    createStep(60, 67),
                    createStep(57, 64),
                    createStep(60, 67),
                    createStep(62, 69)
                ],
                loop: true
            },
            {
                id: 'intervals-echo',
                title: 'Echo Interval',
                description: 'Повторяй интервал терции в разных октавах.',
                displayWindow: 4,
                steps: [
                    createStep(48, 52),
                    createStep(60, 64),
                    createStep(72, 76),
                    createStep(60, 64),
                    createStep(50, 53),
                    createStep(62, 65),
                    createStep(74, 77),
                    createStep(62, 65),
                    createStep(52, 55),
                    createStep(64, 67),
                    createStep(76, 79),
                    createStep(64, 67),
                    createStep(55, 59),
                    createStep(67, 71),
                    createStep(79, 83),
                    createStep(67, 71),
                    createStep(52, 55),
                    createStep(64, 67),
                    createStep(76, 79),
                    createStep(64, 67),
                    createStep(50, 53),
                    createStep(62, 65),
                    createStep(74, 77),
                    createStep(62, 65),
                    createStep(48, 52),
                    createStep(60, 64),
                    createStep(72, 76),
                    createStep(60, 64),
                    createStep(48, 55),
                    createStep(60, 67),
                    createStep(72, 79),
                    createStep(60, 67)
                ],
                loop: false
            }
        ]
    },
    {
        id: 'white-keys',
        title: 'Белые клавиши',
        exercises: [
            {
                id: 'white-cde',
                title: 'C-D-E Line',
                description: 'Лёгкая мелодия по трём белым клавишам.',
                displayWindow: 3,
                steps: [
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(62)
                ],
                loop: true
            },
            {
                id: 'white-echo',
                title: 'Echo Motion',
                description: 'Повторяй восходящую и нисходящую фразу.',
                displayWindow: 4,
                steps: [
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64)
                ],
                loop: true
            },
            {
                id: 'white-c-major-frag',
                title: 'C Major Fragment',
                description: 'Мини-участок гаммы C мажор.',
                displayWindow: 5,
                steps: [
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(69),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(69),
                    createStep(71),
                    createStep(69),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67)
                ],
                loop: true
            },
            {
                id: 'white-descend',
                title: 'Descending Five',
                description: 'Спуск от G4 до C4 с устойчивыми опорами.',
                displayWindow: 5,
                steps: [
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(60),
                    createStep(59),
                    createStep(57),
                    createStep(55),
                    createStep(57),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(59),
                    createStep(57),
                    createStep(55),
                    createStep(57),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(60),
                    createStep(55)
                ],
                loop: true
            },
            {
                id: 'white-pattern',
                title: 'White Key Pattern',
                description: 'Попеременно играй ноты C, E и G.',
                displayWindow: 3,
                steps: [
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(71),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(62),
                    createStep(65),
                    createStep(62),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(67),
                    createStep(71),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(67)
                ],
                loop: true
            }
        ]
    },
    {
        id: 'starter-scales',
        title: 'Начальные гаммы',
        exercises: [
            {
                id: 'scale-c-one-octave',
                title: 'C Major 1 Octave',
                description: 'Возьми одну октаву C мажор вверх и вниз несколько раз.',
                displayWindow: 6,
                steps: [
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(69),
                    createStep(71),
                    createStep(72),
                    createStep(71),
                    createStep(69),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(69),
                    createStep(71),
                    createStep(72),
                    createStep(74),
                    createStep(72),
                    createStep(71),
                    createStep(69),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(69),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60)
                ],
                loop: false
            },
            {
                id: 'scale-g-fragment',
                title: 'G Major Fragment',
                description: 'Короткий фрагмент гаммы G мажор с одним диезом.',
                displayWindow: 6,
                steps: [
                    createStep(55),
                    createStep(57),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(66),
                    createStep(67),
                    createStep(66),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(59),
                    createStep(57),
                    createStep(55),
                    createStep(57),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(66),
                    createStep(67),
                    createStep(69),
                    createStep(67),
                    createStep(66),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(59),
                    createStep(57),
                    createStep(55),
                    createStep(57),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(66),
                    createStep(67),
                    createStep(66),
                    createStep(64)
                ],
                loop: false
            },
            {
                id: 'scale-f-fragment',
                title: 'F Major Fragment',
                description: 'Гамма F мажор с бемолем B♭.',
                displayWindow: 6,
                steps: [
                    createStep(53),
                    createStep(55),
                    createStep(57),
                    createStep(58),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(58),
                    createStep(57),
                    createStep(55),
                    createStep(53),
                    createStep(55),
                    createStep(57),
                    createStep(58),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(58),
                    createStep(57),
                    createStep(55),
                    createStep(53),
                    createStep(55),
                    createStep(57),
                    createStep(58),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(64),
                    createStep(62)
                ],
                loop: false
            },
            {
                id: 'scale-c-wide',
                title: 'C Major Wide',
                description: 'Две октавы гаммы C мажор с возвратом вниз.',
                displayWindow: 8,
                steps: [
                    createStep(48),
                    createStep(50),
                    createStep(52),
                    createStep(53),
                    createStep(55),
                    createStep(57),
                    createStep(59),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(65),
                    createStep(67),
                    createStep(69),
                    createStep(71),
                    createStep(72),
                    createStep(74),
                    createStep(76),
                    createStep(77),
                    createStep(79),
                    createStep(81),
                    createStep(83),
                    createStep(84),
                    createStep(83),
                    createStep(81),
                    createStep(79),
                    createStep(77),
                    createStep(76),
                    createStep(74),
                    createStep(72),
                    createStep(71),
                    createStep(69),
                    createStep(67),
                    createStep(65),
                    createStep(64),
                    createStep(62),
                    createStep(60),
                    createStep(59),
                    createStep(57),
                    createStep(55),
                    createStep(53),
                    createStep(52),
                    createStep(50),
                    createStep(48),
                    createStep(50),
                    createStep(52),
                    createStep(53),
                    createStep(55),
                    createStep(57)
                ],
                loop: false
            }
        ]
    },
    {
        id: 'patterns',
        title: 'Паттерны и арпеджио',
        exercises: [
            {
                id: 'pattern-triad-c',
                title: 'C Triad Broken',
                description: 'Пройди арпеджио C мажор по белым клавишам.',
                displayWindow: 4,
                steps: [
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(72),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(72),
                    createStep(76),
                    createStep(72),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(72),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(72),
                    createStep(76),
                    createStep(79),
                    createStep(76),
                    createStep(72),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(62),
                    createStep(64),
                    createStep(67),
                    createStep(72),
                    createStep(64)
                ],
                loop: true
            },
            {
                id: 'pattern-triad-f',
                title: 'F Triad Broken',
                description: 'Арпеджио F мажор с верхней октавой.',
                displayWindow: 4,
                steps: [
                    createStep(53),
                    createStep(60),
                    createStep(65),
                    createStep(69),
                    createStep(65),
                    createStep(60),
                    createStep(53),
                    createStep(57),
                    createStep(60),
                    createStep(65),
                    createStep(69),
                    createStep(72),
                    createStep(69),
                    createStep(65),
                    createStep(60),
                    createStep(57),
                    createStep(53),
                    createStep(57),
                    createStep(60),
                    createStep(65),
                    createStep(69),
                    createStep(65),
                    createStep(60),
                    createStep(57),
                    createStep(53),
                    createStep(57),
                    createStep(60),
                    createStep(65),
                    createStep(69),
                    createStep(72),
                    createStep(69),
                    createStep(65),
                    createStep(60),
                    createStep(57)
                ],
                loop: true
            },
            {
                id: 'pattern-triplet',
                title: 'Triplet Motion',
                description: 'Попробуй паттерн из трёх нот с переносом вверх.',
                displayWindow: 6,
                steps: [
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(67),
                    createStep(72),
                    createStep(67),
                    createStep(72),
                    createStep(76),
                    createStep(72),
                    createStep(76),
                    createStep(79),
                    createStep(76),
                    createStep(72),
                    createStep(67),
                    createStep(64),
                    createStep(67),
                    createStep(72),
                    createStep(67),
                    createStep(64),
                    createStep(60),
                    createStep(62),
                    createStep(65),
                    createStep(62),
                    createStep(65),
                    createStep(69),
                    createStep(65),
                    createStep(69),
                    createStep(72),
                    createStep(69),
                    createStep(65),
                    createStep(62),
                    createStep(60),
                    createStep(64),
                    createStep(67),
                    createStep(64),
                    createStep(67),
                    createStep(71),
                    createStep(67)
                ],
                loop: false
            }
        ]
    }
];
export const exercises = exerciseGroups.flatMap(group => group.exercises);
